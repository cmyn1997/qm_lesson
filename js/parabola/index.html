<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>抛物线运动</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html, body {
            height: 5000px;
            width: 5000px;
        }

        .ball {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: green;
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>

<body>
    <script>
        //抛物线的开始店坐标 结束点坐标
        let Xstart = 0, Ystart = 0, XEnd = 1000, YEnd = 1000;
        let Time = 520;//运行时间
        let XSpeed = (XEnd - Xstart) / Time;//水平方向上额速度 left 有戏
        let YSpeed = (YEnd - Ystart) / Time;
        let A = 2 * (YEnd - Ystart) / (Time * Time);//加速度的运算公式

        //js 动态创建元素
        let ball = document.createElement('div');
        ball.className = 'ball';
        document.body.appendChild(ball);
        ball.style.top = Ystart + 'px';
        ball.style.left = Xstart + 'px';

        let nowX = Xstart;//当前x
        let nowY = Ystart;//当前y
        let loop = 0;
        // 在函数内部又调用函数自身
        let move = () => {
            requestAnimationFrame(() => {
                if(nowY >= YEnd){
                    ball.parentNode.removeChild(ball);
                    return;
                }
                console.log('aa');
                nowX += XSpeed;
                nowY += A * loop
                ball.style.top = nowY + 'px';
                ball.style.left = nowX + 'px';
                loop++;
                move();
            })
        }
        move();

    </script>
</body>

</html>